<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Passer un appel avec Zoiper5</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://static.zoiper.com/js/zoiper5/zoiper-5.js"></script>
  </head>
  <body>
    <h1>Passer un appel avec Zoiper5</h1>
    <form>
      <label for="numero">Numéro à appeler :</label>
      <input type="text" id="numero" name="numero" /><br /><br />
      <button type="button" onclick="passerAppel()">Appeler</button>
      <button type="button" onclick="raccrocher()">Raccrocher</button>
    </form>
    <script>
      // Initialisation de Zoiper5
      Zoiper.init({
        debug: true,
        sip: {
          enabled: true,
          debug: true,
          uri: "sip.zadarma.com",
          ws_servers: ["wss://zoiper.zadarma.com:8089/ws"],
          authorization_user: "326263",
          password: "reyF2Ju31t",
        },
        audio: {
          input: "default",
          output: "default",
        },
      });

      var session = null;

      // Fonction pour passer l'appel
      function passerAppel() {
        var numero = $("#numero").val();
        if (numero) {
          session = Zoiper.sip.call(numero);
        }
      }

      // Fonction pour raccrocher
      function raccrocher() {
        if (session) {
          session.terminate();
        }
      }
    </script>
  </body>
</html>
